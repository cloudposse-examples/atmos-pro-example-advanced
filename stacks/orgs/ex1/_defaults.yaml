vars:
  namespace: ex1

terraform:
  vars:
    label_order:
      - namespace
      - tenant
      - environment
      - stage
      - name
      - attributes
    descriptor_formats:
      account_name:
        format: "%v-%v"
        labels:
          - tenant
          - stage
      stack:
        format: "%v-%v-%v"
        labels:
          - tenant
          - environment
          - stage

  # Valid options: s3, remote, vault, etc.
  backend_type: s3
  backend:
    s3:
      bucket: ex1-core-use2-root-tfstate
      dynamodb_table: ex1-core-use2-root-tfstate-lock
      role_arn: arn:aws:iam::__ROOT_ACCOUNT_NUMBER__:role/ex1-core-gbl-root-tfstate
      encrypt: true
      key: terraform.tfstate
      acl: bucket-owner-full-control
      region: us-east-2
  remote_state_backend:
    s3:
      # This ensures that remote-state uses the role_arn even when
      # the backend has role_arn overridden to be set to `null`.
      role_arn: arn:aws:iam::__ROOT_ACCOUNT_NUMBER__:role/ex1-core-gbl-root-tfstate

  settings:
    github:
      actions_enabled: true
